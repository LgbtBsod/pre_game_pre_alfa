# –°–∏—Å—Ç–µ–º–∞ –°–µ—Å—Å–∏–π –∏ –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ö–æ–Ω—Ç–µ–Ω—Ç–∞

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —Å–µ—Å—Å–∏–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–∑–æ–ª—è—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∏–≥—Ä–æ–≤—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–ø—Ä–µ–¥–º–µ—Ç–æ–≤, –≥–µ–Ω–æ–≤, –æ—Ä—É–∂–∏—è, –≤—Ä–∞–≥–æ–≤, —Å–∫–∏–ª–ª–æ–≤) –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ –æ—Ç–¥–µ–ª—å–Ω–æ.

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–≥—Ä—ã
- –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∏–≥—Ä—ã –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ—Ä—è–ª—Å—è
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
- –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

### ‚úÖ –†–µ—à–µ–Ω–∏—è –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∏–≥—Ä—ã/—É—Ä–æ–≤–Ω—è
- –ö–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π UUID
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```
data/game_data.db
‚îú‚îÄ‚îÄ save_slots              # –°–ª–æ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ session_data            # –î–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–π
‚îú‚îÄ‚îÄ session_items           # –ü—Ä–µ–¥–º–µ—Ç—ã —Å–µ—Å—Å–∏–∏
‚îú‚îÄ‚îÄ session_enemies         # –í—Ä–∞–≥–∏ —Å–µ—Å—Å–∏–∏
‚îú‚îÄ‚îÄ session_weapons         # –û—Ä—É–∂–∏–µ —Å–µ—Å—Å–∏–∏
‚îú‚îÄ‚îÄ session_skills          # –ù–∞–≤—ã–∫–∏ —Å–µ—Å—Å–∏–∏
‚îú‚îÄ‚îÄ session_genes           # –ì–µ–Ω—ã —Å–µ—Å—Å–∏–∏
‚îú‚îÄ‚îÄ effects                 # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ skill_effects           # –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞–≤—ã–∫–æ–≤
‚îú‚îÄ‚îÄ enemy_types             # –¢–∏–ø—ã –≤—Ä–∞–≥–æ–≤
‚îî‚îÄ‚îÄ weapons                 # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –æ—Ä—É–∂–∏—è
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. SessionManager
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π
- –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

#### 2. ContentGenerator
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ UUID —Å–µ—Å—Å–∏–∏
- –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é seed
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –æ—Ä—É–∂–∏—è, –≤—Ä–∞–≥–æ–≤, –Ω–∞–≤—ã–∫–æ–≤, –≥–µ–Ω–æ–≤

#### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã

```python
from core.session_manager import SessionManager
from core.content_generator import ContentGenerator

# –°–æ–∑–¥–∞–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Å—Å–∏–π
session_manager = SessionManager()

# –ù–∞—Ö–æ–¥–∏–º —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–ª–æ—Ç
free_slot = session_manager.get_free_slot()

# –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é
session_data = session_manager.create_new_session(
    slot_id=free_slot,
    save_name="–ú–æ—è –∏–≥—Ä–∞",
    world_seed=random.randint(1, 999999)
)

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å–µ—Å—Å–∏–∏
content_generator = ContentGenerator()
initial_content = content_generator.initialize_session_content(
    session_data.session_uuid, 
    level=1
)

# –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –≤ —Å–µ—Å—Å–∏—é
for content_type, content_list in initial_content.items():
    if content_type != "world_seed":
        for item in content_list:
            session_manager.add_session_content(content_type, item)
```

### –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–≥—Ä—ã

```python
# –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–µ—Å—Å–∏—é
session_data = session_manager.load_session(slot_id)

# –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç —Å–µ—Å—Å–∏–∏
items = session_manager.get_session_content("items")
weapons = session_manager.get_session_content("weapons")
enemies = session_manager.get_session_content("enemies")
skills = session_manager.get_session_content("skills")
genes = session_manager.get_session_content("genes")
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

```python
# –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
session_data.player_data = {
    "name": "–ò–≥—Ä–æ–∫",
    "level": 5,
    "health": 100,
    "mana": 80,
    "position": {"x": 100, "y": 100, "z": 0}
}

# –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ—Å—Å–∏—é
session_manager.save_session(session_data)
```

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

1. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å**: –û–¥–∏–Ω–∞–∫–æ–≤—ã–π UUID —Å–µ—Å—Å–∏–∏ + —É—Ä–æ–≤–µ–Ω—å = –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
2. **–ò–∑–æ–ª—è—Ü–∏—è**: –ö–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è –∏–º–µ–µ—Ç —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
3. **–ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è**: –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Ä–æ–≤–Ω—è –∏–≥—Ä–æ–∫–∞
4. **–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ seed –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π

### –¢–∏–ø—ã –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

#### –ü—Ä–µ–¥–º–µ—Ç—ã (Items)
- –ó–µ–ª—å—è (–∑–¥–æ—Ä–æ–≤—å–µ, –º–∞–Ω–∞, —Å–∏–ª–∞)
- –û—Ä—É–∂–∏–µ (–º–µ—á–∏, —Ç–æ–ø–æ—Ä—ã, –ª—É–∫–∏, –ø–æ—Å–æ—Ö–∏)
- –ë—Ä–æ–Ω—è (—à–ª–µ–º—ã, –Ω–∞–≥—Ä—É–¥–Ω–∏–∫–∏, —Å–∞–ø–æ–≥–∏)
- –ö–æ–ª—å—Ü–∞ –∏ –∞–º—É–ª–µ—Ç—ã
- –°–≤–∏—Ç–∫–∏ –∏ –∑–µ–ª—å—è

#### –û—Ä—É–∂–∏–µ (Weapons)
- –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã (–º–µ—á, —Ç–æ–ø–æ—Ä, –ª—É–∫, –ø–æ—Å–æ—Ö, –∫–∏–Ω–∂–∞–ª)
- –£—Ä–æ–≤–Ω–∏ —Ä–µ–¥–∫–æ—Å—Ç–∏ (common, uncommon, rare, epic, legendary)
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

#### –í—Ä–∞–≥–∏ (Enemies)
- –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã (—Ö–∏—â–Ω–∏–∫, –∂–µ—Ä—Ç–≤–∞, –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π, –±–æ—Å—Å)
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –∏ —Å–ª–∞–±–æ—Å—Ç–∏

#### –ù–∞–≤—ã–∫–∏ (Skills)
- –ë–æ–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏
- –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –ü–∞—Å—Å–∏–≤–Ω—ã–µ —É–º–µ–Ω–∏—è

#### –ì–µ–Ω—ã (Genes)
- –ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –£—Å–∏–ª–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–µ –ø—É—Ç–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ save_slots
```sql
CREATE TABLE save_slots (
    slot_id INTEGER PRIMARY KEY,
    session_uuid TEXT UNIQUE NOT NULL,
    save_name TEXT NOT NULL,
    created_at TEXT NOT NULL,
    last_played TEXT NOT NULL,
    player_level INTEGER DEFAULT 1,
    world_seed INTEGER DEFAULT 0,
    play_time REAL DEFAULT 0.0,
    is_active INTEGER DEFAULT 1
)
```

### –¢–∞–±–ª–∏—Ü–∞ session_data
```sql
CREATE TABLE session_data (
    session_uuid TEXT PRIMARY KEY,
    slot_id INTEGER NOT NULL,
    state TEXT NOT NULL,
    created_at TEXT NOT NULL,
    last_saved TEXT NOT NULL,
    player_data TEXT,
    world_data TEXT,
    inventory_data TEXT,
    progress_data TEXT,
    generation_seed INTEGER DEFAULT 0,
    current_level INTEGER DEFAULT 1,
    FOREIGN KEY(slot_id) REFERENCES save_slots(slot_id)
)
```

### –¢–∞–±–ª–∏—Ü–∞ session_items
```sql
CREATE TABLE session_items (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    session_uuid TEXT NOT NULL,
    item_id TEXT NOT NULL,
    name TEXT NOT NULL,
    item_type TEXT NOT NULL,
    rarity TEXT NOT NULL,
    effects TEXT,
    value INTEGER DEFAULT 0,
    weight REAL DEFAULT 0.0,
    icon TEXT DEFAULT '',
    is_obtained INTEGER DEFAULT 0,
    obtained_at TEXT,
    FOREIGN KEY(session_uuid) REFERENCES session_data(session_uuid)
)
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python create_db.py

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
python populate_db.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–µ—Å—Å–∏–π
python test_session_system.py
```

### –¢–µ—Å—Ç—ã –≤–∫–ª—é—á–∞—é—Ç:

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
4. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
5. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥—Å—á–µ—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–≥—Ä–æ–π

### –í GameInterface

```python
def _start_new_game(self):
    """–ù–∞—á–∞–ª–æ –Ω–æ–≤–æ–π –∏–≥—Ä—ã"""
    # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é
    free_slot = self.session_manager.get_free_slot()
    session_data = self.session_manager.create_new_session(
        slot_id=free_slot,
        save_name=f"Save {free_slot}",
        world_seed=random.randint(1, 999999)
    )
    
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
    initial_content = self.content_generator.initialize_session_content(
        session_data.session_uuid, 
        level=1
    )
    
    # –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–µ—Å—Å–∏—é
    for content_type, content_list in initial_content.items():
        if content_type != "world_seed":
            for item in content_list:
                self.session_manager.add_session_content(content_type, item)
```

### –í –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ

```python
def save_game_state(self):
    """–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã"""
    if self.session_manager.active_session:
        # –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
        self.session_manager.active_session.player_data = {
            "name": self.player.name,
            "level": self.player.level,
            "health": self.player.health,
            "mana": self.player.mana,
            "position": {
                "x": self.player.position.x,
                "y": self.player.position.y,
                "z": self.player.position.z
            }
        }
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ—Å—Å–∏—é
        self.session_manager.save_session()
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### üéØ –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ö–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞
- –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è–º–∏
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π

### üîÑ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### üé≤ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–µ—Å—Å–∏–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –±–∞–≥–æ–≤
- –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

### üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π

### üîß –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
- –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–µ—Å—Å–∏–π —Ä–µ—à–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫—É –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- ‚úÖ –ü–æ–ª–Ω—É—é –∏–∑–æ–ª—è—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- ‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–π.
